# =============================================================================
# Pronghorn Vue/Node/Postgres Monorepo - Environment Configuration v3
# =============================================================================
# Copy this file to .env and fill in your values.
# Variables prefixed with VITE_ are exposed to the Vue.js frontend.
# All other variables are only available to the Node.js backend.
#
# NOTE: All variables have sensible defaults. The app will start even if
# this file is empty or missing. Run `npm run secrets:generate` to create
# secure secrets automatically.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# Defaults: NODE_ENV=development, APP_NAME=TEMPLATE, APP_VERSION=0.0.1
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_NAME=TEMPLATE
APP_VERSION=0.0.1

# -----------------------------------------------------------------------------
# Server Configuration
# Defaults: PORT=3000, HOST=localhost, API_BASE_PATH=/api/v1
# -----------------------------------------------------------------------------
PORT=3000
HOST=localhost
API_BASE_PATH=/api/v1

# Frontend URL for CORS and redirects
# Default: http://localhost:5173
FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL 17/18)
# -----------------------------------------------------------------------------
# Option 1: Use a connection string (takes precedence over individual settings)
# Format: postgresql://user:password@host:5432/database?sslmode=require
# DB_CONNECTION_STRING=

# Option 2: Use individual connection parameters
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pronghorn
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_SSL=false

# Connection Pool Settings (optimized for high traffic)
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=5000

# -----------------------------------------------------------------------------
# Session & Cookie Configuration
# -----------------------------------------------------------------------------
# If SESSION_SECRET is not provided, a secure secret will be generated
# dynamically at startup (not recommended for production clusters)
SESSION_SECRET=
SESSION_NAME=pronghorn.sid
SESSION_MAX_AGE=86400000
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# If JWT_SECRET or JWT_REFRESH_SECRET are not provided, secure secrets will
# be generated dynamically at startup (not recommended for production clusters)
JWT_SECRET=
JWT_EXPIRES_IN=1d
JWT_REFRESH_SECRET=
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Microsoft Entra ID (Azure AD) SSO Configuration
# -----------------------------------------------------------------------------
# Register your app at https://portal.azure.com
# If not configured, Microsoft SSO will be disabled with a warning message
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_TENANT_ID=common
MICROSOFT_REDIRECT_URI=http://localhost:3000/api/v1/auth/microsoft/callback

# -----------------------------------------------------------------------------
# Google OAuth Configuration
# -----------------------------------------------------------------------------
# Register your app at https://console.cloud.google.com
# If not configured, Google OAuth will be disabled with a warning message
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/google/callback

# -----------------------------------------------------------------------------
# LLM API Keys
# -----------------------------------------------------------------------------
# Only configure the providers you want to use. Unconfigured providers will
# be disabled with a warning message at startup.

# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic - https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Google AI - https://aistudio.google.com/apikey
GOOGLE_AI_API_KEY=

# xAI (Grok) - https://console.x.ai/
XAI_API_KEY=

# Groq - https://console.groq.com/keys
GROQ_API_KEY=

# Default LLM Provider (openai, anthropic, google, xai, groq)
DEFAULT_LLM_PROVIDER=openai
DEFAULT_LLM_MODEL=gpt-4.1

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_DIR=./logs

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# VITE Frontend Variables (exposed to browser)
# -----------------------------------------------------------------------------
# IMPORTANT: Only put PUBLIC information in VITE_ variables
# Never put secrets or API keys in VITE_ variables
VITE_APP_NAME=TEMPLATE
VITE_APP_VERSION=0.0.1
VITE_API_BASE_URL=http://localhost:3000/api/v1
VITE_WS_URL=ws://localhost:3000
VITE_ENABLE_DEVTOOLS=true
VITE_BASE_PATH=/

# Microsoft SSO (public client ID only - safe for frontend)
VITE_MICROSOFT_CLIENT_ID=
VITE_MICROSOFT_TENANT_ID=common
VITE_MICROSOFT_REDIRECT_URI=http://localhost:3000/api/v1/auth/microsoft/callback

# Google OAuth (public client ID only - safe for frontend)
VITE_GOOGLE_CLIENT_ID=
VITE_GOOGLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/google/callback
